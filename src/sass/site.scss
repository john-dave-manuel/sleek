// Helper mixins
@mixin full-height ($valign: center, $align: flex-start) {
	min-height: 100vh;
	display: flex;
	align-items: $align;
	justify-content: $valign;
	flex-direction: column;

	> * {
		width: 100%;
	}

	@if ($align == center) {
		text-align: center;
	}
}

@mixin text-label {
	font-size: var(--font-size-small);
	text-transform: uppercase;
}

@mixin first-p {
	font-size: var(--font-size-large);
	font-weight: bold;
}

@mixin wysiwyg {
	@include clearfix;

	> p:first-child,
	> :--heading:first-child ~ p:first-of-type {
		@include first-p;
	}

	.illustration {
		display: flex;
		align-items: center;

		img {
			display: inline-block;
			width: 3rem;
			margin: 0 1rem 0 0;
		}
	}
}

@mixin card-large {
	background: white;
	padding: var(--spacing-large);
	margin: 0 0 var(--spacing-large);
	border-radius: .5rem;
	box-shadow: 0 1rem 2rem rgba(0, 0, 0, .4);

	@media (--tablet) {
		padding: var(--spacing-section);
	}
}

// Some basic styling
html {
	@media (--tablet-max) {
		font-size: 80%;
	}
}

h2 {
	small {
		display: block;
		font-weight: 300;
		font-size: 100%;
	}
}

// Site header
#site-header {
	position: fixed;
	left: 0;
	top: 0;
	z-index: 99;

	display: flex;
	align-items: center;
	justify-content: space-between;

	width: 100%;
	padding: var(--spacing-default);

	color: white;
	font-size: var(--font-size-small);
	text-shadow: 1px 1px 1px rgba(0, 0, 0, .2);

	a {
		color: currentColor;
	}

	// Logo
	.site-logo {
		@include heading(2rem, false);

		margin: 0;
	}

	// Tagline
	.site-logo + p {
		display: none;
	}

	// Menu
	ul {
		@include list-separated;
		@include text-label;

		@media (--tablet-max) {
			display: none;
		}
	}
}

// Single page
#single-page {
	background: radial-gradient(circle farthest-corner at center top, #00d4ff, #020024 60%);
	color: white;

	a,
	:--heading {
		color: currentColor;
	}

	// Hero
	> header {
		@include section;
		@include full-height(center, center);

		// Logo
		h1 {
			line-height: 1;
			font-size: 2rem;

			strong {
				display: block;
				font-size: 7rem;

				svg {
					max-width: 90%;
				}
			}

			small {
				display: block;
				font-size: 1.8rem;
				font-family: "Great Vibes";
			}

			@media (--tablet) {
				strong {
					font-size: 9.3rem;
				}
			}
		}

		// Menu
		ul {
			@include text-label;

			margin: 0;
			list-style: none;

			> li {
				display: inline-block;
				margin: 0 var(--spacing-small);
			}
		}
	}

	// Page content
	> article {
		@include section($site-width * .75);
		@include wysiwyg;

		strong {
			font-weight: normal;
			font-style: italic;
		}
	}
}

// Text-block
#text-block {
	@include section;
	@include full-height(center);

	background: #111;
	color: white;

	:--heading {
		color: currentColor;
	}
}

// Vue component
#vue-component,
#contact-form {
	@include section($site-width * .75);
	@include full-height(center, center);

//	background: radial-gradient(circle farthest-corner at center top, #00d4ff, #020024 80%);
	background: url(/wp-content/uploads/2019/10/sweet-ice-cream-photography-QotTbY0b4YM-unsplash-scaled-2560.jpg);
	background-size: cover;
	background-attachment: fixed;

	> header {
		color: white;
		text-align: center;
		margin-bottom: var(--spacing-large);

		:--heading {
			color: currentColor;
		}

		p {
			@include first-p;
		}
	}

	> [data-vue],
	> div.wpcf7 {
		@include card-large;
	}
}

#contact-form {
	background-image: url(/wp-content/uploads/2019/10/wenniel-lun-pe_R74hldW4-unsplash.jpg);

	> div.wpcf7 {
		text-align: left;
	}
}

// Featured posts
#featured-posts,
#latest-posts,
#related-posts {
	@include container;

	> header {
		margin-bottom: var(--spacing-x-large);
		text-align: center;
	}

	article {
		position: relative;
		margin-bottom: var(--spacing-x-large);

		figure {
			margin-bottom: var(--spacing-large);
			box-shadow: 0 1rem 2rem rgba(0, 0, 0, .4);
		}

		header {
			h3 {
				margin: 0;
			}

			p {
				@include text-label;

				> * {
					display: inline-block;
					margin-right: var(--spacing-small);
				}
			}
		}

		footer {
			a {
				@extend .button;
			}
		}

		@media (--laptop) {
			padding: var(--spacing-large) 0;
			padding-left: calc(50% + var(--spacing-large) / 2);

			figure {
				position: absolute;
				left: calc(var(--spacing-large) * -1);
				top: 0;
				bottom: 0;
				width: calc(50% - var(--spacing-large) / 2);
				margin: 0;

				img {
					@include img-background;

					z-index: auto;
				}
			}

			&:nth-child(odd) {
				padding-left: 0;
				padding-right: calc(50% + var(--spacing-large) / 2);

				figure {
					left: auto;
					right: calc(var(--spacing-large) * -1);
				}
			}
		}
	}
}

// Instagram
#instagram {
	> header {
		@include container;

		margin-bottom: var(--spacing-x-large);
		text-align: center;
	}

	ul {
		@include grid;

		margin: 0;
		padding: 0 var(--spacing-large) var(--spacing-section);
		list-style: none;

		@media (--tablet) {
			--grid-cols: 2;
		}

		@media (--laptop) {
			--grid-cols: 4;
		}

		li {
			a {
				display: block;

				img {
					background: white;
					display: block;
					padding: var(--spacing-small) var(--spacing-small) var(--spacing-x-large);
					transform: rotate(-2deg) translate(0, 0) scale(1);
					box-shadow: 0 0.25rem .5rem rgba(0, 0, 0, .4);
					transition: transform .5s ease, box-shadow .5s ease;
				}

				&:hover {
					img {
						transform: rotate(0deg) translate(0, 0) scale(1.1);
						box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, .4);
					}
				}
			}

			&:nth-child(2) {
				img {
					transform: rotate(1deg) translate(0, -.5rem) scale(1);
				}
			}

			&:nth-child(3) {
				img {
					transform: rotate(-1deg) translate(0, .5rem) scale(1);
				}
			}

			&:nth-child(4) {
				img {
					transform: rotate(2deg) translate(0, 0) scale(1);
				}
			}
		}
	}
}

// Google map
#google-map {
	> header {
		@include container;

		text-align: center;
		margin-bottom: var(--spacing-x-large);
	}

	.google-map {
		@media (--laptop) {
			height: 40rem;
		}
	}
}

// Sidebar
#sidebar {
	@include section;
	@include grid;

	--font-size-h2: var(--font-size-h4);

	background: #1a1a1a;
	color: white;

	@media (--tablet) {
		--grid-cols: 2;
	}

	@media (--laptop) {
		--grid-cols: 3;
	}

	a,
	:--heading {
		color: currentColor;
	}

	ul {
		margin-left: 0;
		list-style: none;
	}
}

#site-footer {
	@include section;
	@include text-label;

	--spacing-section: 1rem;

	background: #111;
	color: #aaa;
	text-align: center;

	@media (--tablet) {
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	a,
	:--heading {
		color: currentColor;
	}

	p {
		margin: 0;
	}

	ul {
		@include list-separated;

		margin-bottom: 0;
	}
}
