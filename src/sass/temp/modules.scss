// Text-block
#text-block {
	@include container;
	@include clearfix;

	h2,
	h2 + p {
		text-align: center;
	}

	h2 + p {
		@include first-p;

		margin-bottom: var(--spacing-x-large);
	}

	pre {
		background: #111;
		font-size: var(--font-size-small);
		color: white;
		padding: var(--spacing-default);
		overflow: auto;
	}

	@media (--tablet) {
		pre {
			width: calc(50% - (var(--grid-gap) / 2));
			float: left;
		}

		pre + pre {
			float: right;
		}
	}
}

#text-block {
	> * {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;
	}

	@for $i from 2 through 5 {
		> :nth-child(#{$i}) {
			transition-delay: #{$i * .25s};
		}
	}

	&.was-in-view {
		> * {
			transform: translate(0, 0);
			opacity: 1;
		}
	}
}

// Text-blocks
#text-blocks {
	@include container;

	> header {
		@include header-module;
	}
}

// Gallery
#gallery {
	text-align: center;
	padding: var(--spacing-section) var(--spacing-large);

	> header {
		@include header-module;
	}

	ul {
		display: flex;
		align-items: center;
		justify-content: center;
		margin: 0;
		list-style: none;

		li {
			flex: 1;
			display: block;
			margin: 0 var(--spacing-large);

			figure {
				margin: 0;

				a {
					pointer-events: none;
				}

				img {
					width: 100%;
					filter: brightness(0);
				}

				figcaption {
					display: none;
				}
			}
		}
	}
}

#gallery {
	> header h2,
	ul li {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;
	}

	ul li {
		@for $i from 1 through 10 {
			&:nth-child(#{$i}) {
				transition-delay: #{$i * .25s};
			}
		}
	}

	&.was-in-view {
		> header h2,
		ul li {
			transform: translate(0, 0);
			opacity: 1;
		}
	}
}

// Vue component
#vue-component {
	@include section($site-width * .75);
	@include full-height(center, center);

	background: url(/wp-content/uploads/2019/10/mockup-photos-5nUNdLueQio-unsplash-scaled-2560.jpg);
	background-size: cover;
	background-attachment: fixed;

	> header {
		@include header-module;

		color: white;

		:--heading {
			color: currentColor;
		}
	}

	> [data-vue],
	> div.wpcf7 {
		@include card-large;

		text-align: left;
	}
}

// Animation
#vue-component {
	perspective: 100vw;

	> header h2,
	> header p {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;
	}

	> header p {
		transition-delay: .25s;
	}

	> [data-vue] {
		transform: rotateX(-120deg);
		transition: transform 1.5s .25s ease;
		backface-visibility: hidden;
	}

	&.was-in-view {
		> header h2,
		> header p {
			transform: translate(0, 0);
			opacity: 1;
		}

		> [data-vue] {
			transform: rotateX(0);
		}
	}
}

// Instagram
#instagram {
	background: url(/wp-content/uploads/2019/10/lukas-blazek-EWDvHNNfUmQ-unsplash-scaled-2560.jpg);
	background-size: cover;
	background-attachment: fixed;
	padding: var(--spacing-section) var(--spacing-large);

	> header {
		@include header-module;

		color: white;

		a:not(:hover),
		:--heading {
			color: currentColor;
		}
	}

	ul {
		@include grid;

		margin: 0;
		list-style: none;

		@media (--tablet) {
			--grid-cols: 2;
		}

		@media (--laptop) {
			--grid-cols: 4;
		}

		li {
			a {
				display: block;

				img {
					background: white;
					display: block;
					padding: var(--spacing-small) var(--spacing-small) var(--spacing-large);
					transform: rotate(-2deg) translate(0, 0) scale(1);
					box-shadow: 0 0.25rem .5rem rgba(0, 0, 0, .4);
					transition: transform .5s ease, box-shadow .5s ease;
				}

				&:hover {
					img {
						transform: rotate(0deg) translate(0, 0) scale(1.1);
						box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, .4);
					}
				}
			}

			&:nth-child(2) {
				img {
					transform: rotate(1deg) translate(0, -.5rem) scale(1);
				}
			}

			&:nth-child(3) {
				img {
					transform: rotate(-1deg) translate(0, .5rem) scale(1);
				}
			}

			&:nth-child(4) {
				img {
					transform: rotate(2deg) translate(0, 0) scale(1);
				}
			}
		}
	}
}

// Animation
#instagram {
	overflow: hidden;

	> header h2,
	> header p {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;
	}

	> header p {
		transition-delay: .25s;
	}

	ul {
		li {
			transform: rotate(45deg) translate(50vw, 300%);
			transition: transform 0.75s cubic-bezier(0, 1, 0, 1);

			&:nth-child(2) {
				transform: rotate(-30deg) translate(-20vw, 300%);
				transition-delay: .25s;
			}

			&:nth-child(3) {
				transform: rotate(-25deg) translate(-30vw, 300%);
				transition-delay: .5s;
			}

			&:nth-child(4) {
				transform: rotate(-45deg) translate(-50vw, 300%);
				transition-delay: .75s;
			}
		}
	}

	&.was-in-view {
		> header h2,
		> header p {
			transform: translate(0, 0);
			opacity: 1;
		}

		ul li {
			transform: rotate(0) translate(0, 0);
		}
	}
}

// Google map
#google-map {
	> header {
		@include container;
		@include header-module;
	}

	.google-map {
		@media (--laptop) {
			height: 40rem;
		}
	}
}

// Contact form
#contact-form {
	@include section;
	@include grid;

	background: url(http://10.11.12.13/wp-content/uploads/2019/10/wenniel-lun-pe_R74hldW4-unsplash.jpg);
	background: url(/wp-content/uploads/2019/10/ashkan-forouzani-TnXMvJsCTpA-unsplash-1-scaled-2560.jpg);
	background-size: cover;
	background-attachment: fixed;

	@media (--tablet) {
		--grid-cols: 2;
	}

	header {
		align-self: center;
		color: white;

		a:not(:hover),
		:--heading {
			color: currentColor;
		}
	}

	form {
		@include card;

		label {
			@include text-label;
		}
	}
}

#contact-form {
	header h2,
	header p,
	form,
	form p {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;
	}

	header p {
		transition-delay: .25s;
	}

	form {
		transition-delay: .25s;
	}

	form p {
		transition-delay: .5s;

		@for $i from 2 through 6 {
			&:nth-of-type(#{$i}) {
				transition-delay: #{$i * .25s + .5s};
			}
		}
	}

	&.was-in-view {
		header h2,
		header p,
		form,
		form p {
			transform: translate(0, 0);
			opacity: 1;
		}
	}
}

// Sidebar
#sidebar {
	@include section;
	@include grid;

	--font-size-h2: var(--font-size-h4);

	background: #111;
	color: white;

	@media (--tablet) {
		--grid-cols: 2;
	}

	@media (--laptop) {
		--grid-cols: 3;
	}

	a:not(:hover),
	:--heading {
		color: currentColor;
	}

	ul {
		@include text-label;

		margin-left: 0;
		list-style: none;
	}
}

// Animation
#sidebar {
	> * {
		transform: translate(0, 1.5rem);
		opacity: 0;
		transition: transform 0.75s ease,
					opacity 0.75s ease;

		@for $i from 1 through 6 {
			&:nth-child(#{$i}) {
				transition-delay: #{$i * 0.25s};
			}
		}
	}

	&.was-in-view > * {
		transform: translate(0, 0);
		opacity: 1;
	}
}

// Footer
#site-footer {
	@include section;
	@include text-label;

	--spacing-section: 1rem;

	background: #0a0a0a;
	color: #aaa;
	text-align: center;

	@media (--tablet) {
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	a:not(:hover),
	:--heading {
		color: currentColor;
	}

	p {
		margin: 0;
		filter: grayscale(1);
		transition: filter .25s ease;
	}

	&:hover p {
		filter: grayscale(0);
	}

	ul {
		@include list-separated;

		margin-bottom: 0;
	}
}

// Search form
#search-form {
	--spacing-form-field-horizontal: var(--spacing-button-horizontal);
	--border-radius-form-field: var(--border-radius-button);

	p {
		display: flex;
		flex-wrap: wrap;
		justify-content: space-between;

		label {
			@include a11y-hide;

			display: block;
			width: 100%;
		}

		input {
			flex: 1;
			margin-right: var(--spacing-default);
		}

		button {
			white-space: nowrap;
		}
	}
}
